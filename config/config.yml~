%YAML:1.0

###############################################################################
##                                                                           ##
## Configuration file for the navigation package                             ##
##                                                                           ##
###############################################################################

##---------------------------------------------------------------------------##
## Path and filename of the log file
##---------------------------------------------------------------------------##
logparser:
    # Frame per second of the log playback
    waitkey: 33

    # If empty the sw uses real sensors
    #
    # Opzioni path
    # -- Giorgio
    # /home/.... Riempi qua
    # -- Portatile
    # /home/mpp/DODICH/Registrazioni/
    # -- Laboratorio
    # /home/dodich/DODICH/Registrazioni/
    path: /home/mpp/DODICH/Registrazioni/

    # Opzioni
    #
    # -- Caso 1 - fine filare
    # 02161602_ls_sick.csv
    # -- Caso 2 - filare a sinistra
    # 01051511_ls_sick.csv
    # -- Caso 3 - rotazione a sinistra
    # 12011112_ls_sx_sick.csv
    # -- Caso 4 - interno del box
    # 02161159_ls_sick.csv
    # -- Caso 5 - box-filare-testate
    # 02180842_ls_sick.csv
    file: "12011112_ls_sx_sick.csv"

##---------------------------------------------------------------------------##
## Parameters for the laser scan raw filter
##---------------------------------------------------------------------------##
laserscanfilter:
    # minimum distance threshold (mt)
    minDistance: 1.1 

    # minimum distance threshold (mt)
    maxDistance: 6.0 

    # minimum angle of scan (deg) - 0° is in front of the scanner
    minAngle: -2.35619449 

    # maximum angle of scan (deg) - 0° is in front of the scanner
    maxAngle: 2.35619449 

##---------------------------------------------------------------------------##
## Parameters for the poles extractor class
##---------------------------------------------------------------------------##
poleExtractor:
    # the maximum distance between two points of the same pole
    clusterTolerance: 0.12 

    # the minimum number of point to define a pole
    minClusterSize: 2 

    # the maximum number of point that can rely to a pole
    maxClusterSize: 100 

    # the maximum distance between 2 poles candidates to be considered the same pole, for tracking purposes
    maximumPolesDistance: 0.2 

    # for the FLANN Hierarchical clustering (deprecated)
    branchingFactor: 10 

    # for the FLANN Hierarchical clustering (deprecated)
    iterations: 60 

##---------------------------------------------------------------------------##
## Parameters for the line extractor class
##---------------------------------------------------------------------------##
lineExtractor:
    # the maximum distance (mt) between two poles that are assigned to the same line
    maxPoleDistance: 1.8 
    maxDistanceFromLastLine: 0.6
    reps: 0.0001 # Sufficient accuracy for the radius (distance between the coordinate origin and the line).
    aeps: 0.0001 # Sufficient accuracy for the angle. 0.01 would be a good default value for reps and aeps.
    minLineSize: 4 # Minimum number of poles for a line

##---------------------------------------------------------------------------##
## Parameters for the navigation planners
##---------------------------------------------------------------------------##
globalMP:
    # maximum linear velocity m/s
    maxV: 2.0 

    # maximum angular velocity rad/s
    maxOmega: 2.0

# Following the indication of: http://www.inaut.unsj.edu.ar/Files/Ca1277_03.pdf 
lineFollower: 
    desiredDistance: 2.0 # desired distance from the line
    desiredTheta: 0.0 # desired angle divergence from the line

    ## !!BEWARE!! that changes in maxV and maxOmega involve changes in theese variables
    a1: 2 
    a2: 2 
    k1: 1 # k1 + k2*u_max <= omega_max, nel caso di (u_max, omega_max) = (2, 2)
    k2: 0.5 
    limitMultiplier: 4

    minHeadPoleDistance: 2.5 # When the head pole is nearer than this threshold the robot have reched the end of the line
    
Uturn:
    epsilon: 0.2
    beta: 0.4
    gamma: 2

##---------------------------------------------------------------------------##
## GUI parameters
##---------------------------------------------------------------------------##
gui:
    wHeight: 700
    wWidth: 1000
    wFactor: 40 # 1 real meter = factor pixels in the GUI
    wFontScale: 0.5

    center: [ 615, 350 ]

    poleIDOffset: [ 0.0, -7.0 ]
    poleRadius: 6
    lineThickness: 3

    compassWHXY: [ 100, 100, 115, 315 ]
    compassRadius: 45

    colors: # BGR not RGB
        red: [ 50,50,255,0 ]
        black: [ 0,0,0,0 ]
        white: [ 255,255,255,0 ]
        darkGray: [ 80,80,80,0 ]
        lightGray: [ 190,190,190,0 ]
        blue: [ 255,50,50,0 ]
        green: [ 50,200,50,0 ]
        lightGreen: [ 150,255,150,0 ]
        yellow: [ 50,255,255,0 ]   

## Here can go other parameters
